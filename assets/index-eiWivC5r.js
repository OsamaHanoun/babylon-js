(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const a=document.getElementById("renderCanvas");a.width=a.clientWidth;a.height=a.clientHeight;const d=a.transferControlToOffscreen(),o=new Worker(new URL("/babylon-js/assets/worker-m4VeetuM.js",import.meta.url),{type:"module"});var l;(l=document.getElementById("init"))==null||l.addEventListener("click",t=>{h(t),o.postMessage({messageName:"init",canvas:d,height:a.clientHeight},[d])});o.onmessage=t=>{const{messageName:n}=t.data;switch(n){case"stlFile":y(t.data.stlFile);break}};window.addEventListener("resize",()=>{o.postMessage({messageName:"resize",width:a.clientWidth,height:a.clientHeight})});var m;(m=document.getElementById("createSample"))==null||m.addEventListener("click",()=>{const t=document.getElementById("numberOfObjects");o.postMessage({messageName:"createSample",nBodies:+t.value})});var u;(u=document.getElementById("applyVortex"))==null||u.addEventListener("click",()=>{const n=+document.getElementById("numberOfObjects").value;o.postMessage({messageName:"applyVortex",power:n})});var g;(g=document.getElementById("addNotch"))==null||g.addEventListener("click",()=>{o.postMessage({messageName:"addNotch"})});var p;(p=document.getElementById("activatePhysicsViewer"))==null||p.addEventListener("click",()=>{o.postMessage({messageName:"activatePhysicsViewer"})});var f;(f=document.getElementById("download"))==null||f.addEventListener("click",()=>{o.postMessage({messageName:"pauseSimulation"}),o.postMessage({messageName:"getMeshes"})});function h(t){t.target.disabled=!0}function y(t){const n=new Blob([t],{type:"application/octet-stream"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="sample.stl",document.body.append(r),r.click(),r.remove(),setTimeout(()=>URL.revokeObjectURL(r.href),7e3)}
